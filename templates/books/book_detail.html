{% extends "_base.html" %}
{% load static %}

{% block title %}{{ book.title }}{% endblock title %}

{% block content %}
<main class="py-md-3 col-md-10 bd-content" role = "main"><!-- col-xl-8  pl-md-5 col-md-9 col-12 -->
    <div class = "container">
        <div class="row">
            <div class="col-6 col-md-4">
                {% if book.cover %}
                    <img class="ml-3 img-thumbnail rounded mx-auto d-block" style="width: 100%;" src="{{ book.cover.url }}" alt = "{{ book.title }}">
                {% endif %}
                <div class="row align-items-start py-md-3">
                    {% for review_goodreads in book.review_goodreads.all %}
                    <div class="col-md">
                        <div class="card text-center">
                            <div class="card-header"><small class="text-body-secondary">Goodreads</small></div>
                            <div class="card-body">
                                <h5 class="card-title">{{ review_goodreads.review_goodreads_star }}</h5>
                                <p class="card-text"><small class="text-body-secondary">{{ review_goodreads.review_goodreads_ratings }} ratings</small></p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% for review_amazon in book.review_amazon.all %}
                    <div class="col-md">
                        <div class="card text-center">
                            <div class="card-header"><small class="text-body-secondary">Amazon</small></div>
                            <div class="card-body">    
                                <h5 class="card-title">{{ review_amazon.review_amazon_star }}</h5>
                                <p class="card-text"><small class="text-body-secondary">{{ review_amazon.review_amazon_ratings }} ratings</small></p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-12 col-md-8">
                <div class="media-body">
                    <h1 id="title" class="bd-title">{{ book.title }}</h1>
                    <p class="text-muted">by {{ book.author }}</p>
                    <p>{{ book.description }}</p>
                    <p>{% for genre in book.genres.all %}<span class="badge rounded-pill bg-dark">{{ genre.genre }}</span>{% endfor %}</p>
                    <h6 class="py-md-3" id="critic_summary">Summary of Reviews</h6>
                    <ul class="list-group list-group-flush">
                        {% for review_summary in book.review_summary.all %}
                        <li class="list-group-item"><strong>Praise:</strong> {{ review_summary.review_good }}</li>
                        <li class="list-group-item"><strong>Criticisms:</strong> {{ review_summary.review_bad }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        <div class="row py-md-3">
            <div class="col-6 col-md-4"></div>
            <div class="col-12 col-md-8">
                <h6 id="other_books_by_author">Related Books</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">A Journey Through African American ..</a> by Michael W. Twitty - <span class="badge rounded-pill bg-primary">4.45</span> • <span class="badge rounded-pill bg-secondary">10,598</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">Crying in H Mart</a> by Michelle Zauner | <span class="badge rounded-pill bg-primary">4.39</span> • <span class="badge rounded-pill bg-secondary">318,432</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">Apricots on the Nile: A Memoir wi ..</a> by Colette Rossant | <span class="badge rounded-pill bg-primary">3.80</span> • <span class="badge rounded-pill bg-secondary">689</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">The Language of Baklava</a> by Diana Abu-Jaber | <span class="badge rounded-pill bg-primary">4.08</span> • <span class="badge rounded-pill bg-secondary">3,907</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">Taste: My Life Through Food</a> by Stanley Tucci | <span class="badge rounded-pill bg-primary">4.15</span> • <span class="badge rounded-pill bg-secondary">39,754</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">Burnt Toast Makes You Sing Good</a> by Kathleen Flinn | <span class="badge rounded-pill bg-primary">3.83</span> • <span class="badge rounded-pill bg-secondary">2,540</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">With the Fire on High</a> by Elizabeth Acevedo | <span class="badge rounded-pill bg-primary">4.29</span> • <span class="badge rounded-pill bg-secondary">95,740</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">Yes, Chef</a> by Marcus Samuelsson | <span class="badge rounded-pill bg-primary">4.09</span> • <span class="badge rounded-pill bg-secondary">22,948</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">The Mistress of Spices</a> by Chitra Banerjee Divakaruni | <span class="badge rounded-pill bg-primary">3.75</span> • <span class="badge rounded-pill bg-secondary">16,135</span> ratings</li>
                        <li class="list-group-item"><a class="card-link text-underline-hover" href="#">Kitchen Confidential: Adventures in ..</a> by Anthony Bourdain | <span class="badge rounded-pill bg-primary">4.21</span> • <span class="badge rounded-pill bg-secondary">418,083</span> ratings</li>
                    </ul>
            </div>
        </div>
    </div>
</main>
{% endblock content %}